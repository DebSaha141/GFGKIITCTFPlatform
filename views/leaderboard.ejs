<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="card bg-dark border-secondary">
                <div class="card-header bg-dark-rgb text-light d-flex justify-content-between align-items-center">
                    <h3 class="card-title mb-0">Leaderboard</h3>
                    <div class="text-muted">
                        <i class="bi bi-trophy-fill me-1"></i>
                        Top Performers
                    </div>
                </div>
                <div class="card-body">
                    <% if (users && users.length > 0) { %>
                        <div class="table-responsive">
                            <table class="table table-dark table-hover">
                                <thead>
                                    <tr>
                                        <th class="text-center" style="width: 80px">Rank</th>
                                        <th>User</th>
                                        <th class="text-center">Points</th>
                                        <th class="text-center">Solved</th>
                                        <th class="text-center">Last Solve</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% users.forEach((user, index) => { %>
                                        <tr class="<%= index < 3 ? 'top-user' : '' %>">
                                            <td class="text-center">
                                                <% if (index === 0) { %>
                                                    <i class="bi bi-trophy-fill text-warning"></i>
                                                <% } else if (index === 1) { %>
                                                    <i class="bi bi-trophy-fill text-secondary"></i>
                                                <% } else if (index === 2) { %>
                                                    <i class="bi bi-trophy-fill text-danger"></i>
                                                <% } else { %>
                                                    <span class="text-muted">#<%= index + 1 %></span>
                                                <% } %>
                                            </td>
                                            <td>
                                                <div class="d-flex align-items-center">
                            
                                                    <div>
                                                        <div class="text-light"><%= user.username %></div>
                                                
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="text-center">
                                                <span class="badge bg-primary"><%= user.points %></span>
                                            </td>
                                            <td class="text-center">
                                                <span class="badge bg-success"><%= user.solvedChallenges.length %></span>
                                            </td>
                                            <td class="text-center text-muted">
                                                <% if (user.solvedChallenges.length > 0) { %>
                                                    <%= new Date(user.lastSolved).toLocaleString() %>
                                                <% } else { %>
                                                    -
                                                <% } %>
                                            </td>
                                        </tr>
                                    <% }); %>
                                </tbody>
                            </table>
                        </div>
                    <% } else { %>
                        <p class="text-muted text-center my-4">No users found.</p>
                    <% } %>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.avatar-circle-small {
    width: 40px;
    height: 40px;
    background: linear-gradient(45deg, #0d6efd, #0dcaf0);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.initials-small {
    font-size: 1rem;
    color: white;
    font-weight: bold;
}

.table {
    color: #fff !important;
}

.table-dark {
    background-color: #1a1a1a !important;
}

.table-dark td, .table-dark th {
    border-color: rgba(255, 255, 255, 0.1) !important;
}

.badge {
    font-weight: 500;
    padding: 0.5em 0.75em;
}

.card {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.card-header {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.table-hover tbody tr:hover {
    background-color: rgba(255, 255, 255, 0.05) !important;
}

.top-user {
    background-color: rgba(255, 255, 255, 0.02) !important;
}

.top-user:hover {
    background-color: rgba(255, 255, 255, 0.07) !important;
}

.bi-trophy-fill {
    font-size: 1.2rem;
}
</style> 